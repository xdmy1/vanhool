<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Van Hool Parts - Rare Bus Parts Supplier</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/custom-colors.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b sticky top-0 z-50">
        <div class="container mx-auto px-4 lg:px-8">
            <nav class="flex items-center justify-between h-16 lg:h-20">
                <!-- Left: Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center hover:opacity-80 transition-opacity">
                        <img src="LOGO1 1.svg" alt="Van Hool Parts" class="h-8 lg:h-10 w-auto">
                    </a>
                </div>
                    
                <!-- Center: Navigation -->
                <div class="flex-1 flex justify-center">
                    <!-- Desktop Navigation -->
                    <div class="hidden lg:flex items-center space-x-8">
                        <!-- Categories Dropdown -->
                        <div class="relative" onmouseenter="showDropdown()" onmouseleave="hideDropdown()">
                            <button class="flex items-center space-x-1 text-gray-600 hover:text-red-600 py-2 font-medium transition-colors">
                                <i class="fas fa-th-large mr-1"></i>
                                <span data-translate="categories">Categories</span>
                                <i class="fas fa-chevron-down text-sm ml-1 group-hover:rotate-180 transition-transform duration-200"></i>
                            </button>
                            <!-- Enhanced Categories Dropdown -->
                            <div id="categories-dropdown-menu" class="absolute overflow-x-hidden  top-full left-0 bg-white shadow-xl border rounded-lg z-50 w-96  px-6  max-h-100 overflow-y-hidden" style="display: none;">
                                <!-- Categories Content -->
                                <div id="categories-dropdown">
                                    <div class="py-4">
                                        <h4 class="font-semibold mb-4 text-center">Van Hool Parts Categories</h4>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4">
                                            
                                            <!-- Brake System -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=brake-system" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-stop-circle text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Brake System</div>
                                                        <div class="text-sm text-gray-500">Pads, Discs, Fluid</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Brake Components</div>
                                                        <a href="catalog.html?category=brake-pads" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Pads</a>
                                                        <a href="catalog.html?category=brake-discs" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Discs</a>
                                                        <a href="catalog.html?category=brake-fluid" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Fluid</a>
                                                        <a href="catalog.html?category=brake-calipers" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Calipers</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Air Pressure System -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=air-pressure" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-wind text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Air Pressure</div>
                                                        <div class="text-sm text-gray-500">Compressors, Valves</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Air System Parts</div>
                                                        <a href="catalog.html?category=air-compressors" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Compressors</a>
                                                        <a href="catalog.html?category=air-valves" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Valves</a>
                                                        <a href="catalog.html?category=air-tanks" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Tanks</a>
                                                        <a href="catalog.html?category=air-filters" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Filters</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Electrical System -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=electrical" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-bolt text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Electrical</div>
                                                        <div class="text-sm text-gray-500">Lighting, Wiring</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Electrical Parts</div>
                                                        <a href="catalog.html?category=headlights" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Headlights</a>
                                                        <a href="catalog.html?category=tail-lights" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Tail Lights</a>
                                                        <a href="catalog.html?category=wiring-harness" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Wiring Harness</a>
                                                        <a href="catalog.html?category=switches" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Switches</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Chassis & Suspension -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=chassis-suspension" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-car-side text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Chassis & Suspension</div>
                                                        <div class="text-sm text-gray-500">Suspension, Frames</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Chassis Parts</div>
                                                        <a href="catalog.html?category=suspension-parts" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Suspension Parts</a>
                                                        <a href="catalog.html?category=chassis-parts" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Chassis Parts</a>
                                                        <a href="catalog.html?category=shock-absorbers" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Shock Absorbers</a>
                                                        <a href="catalog.html?category=springs" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Springs</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Engine & Transmission -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=engine-transmission" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-cog text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Engine & Transmission</div>
                                                        <div class="text-sm text-gray-500">Engine Parts, Gears</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Engine Parts</div>
                                                        <a href="catalog.html?category=engine-filters" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Engine Filters</a>
                                                        <a href="catalog.html?category=transmission-parts" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Transmission Parts</a>
                                                        <a href="catalog.html?category=cooling-system" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Cooling System</a>
                                                        <a href="catalog.html?category=exhaust-system" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Exhaust System</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Body & Interior -->
                                            <div class="relative group/category">
                                                <a href="catalog.html?category=body-interior" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                                    <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                                        <i class="fas fa-door-open text-red-600"></i>
                                                    </div>
                                                    <div class="flex-1">
                                                        <div class="font-medium">Body & Interior</div>
                                                        <div class="text-sm text-gray-500">Doors, Seats, Panels</div>
                                                    </div>
                                                    <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                                                </a>
                                                <!-- Subcategories -->
                                                <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                                    <div class="p-3">
                                                        <div class="text-sm font-medium text-gray-900 mb-2">Body Parts</div>
                                                        <a href="catalog.html?category=doors" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Doors</a>
                                                        <a href="catalog.html?category=seats" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Seats</a>
                                                        <a href="catalog.html?category=body-panels" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Body Panels</a>
                                                        <a href="catalog.html?category=mirrors" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Mirrors</a>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Footer -->
                                <div class="border-t bg-gray-50 p-4 rounded-b-xl">
                                    <div class="flex items-center justify-between">
                                        <div class="text-sm text-gray-600">
                                            <span data-translate="over_parts">Over 1000+ authentic parts</span>
                                        </div>
                                        <a href="catalog.html" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-medium text-sm">
                                            <span data-translate="view_all_catalog">View All Catalog</span>
                                            <i class="fas fa-arrow-right ml-2"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Regular Navigation Links -->
                        <a href="catalog.html" class="text-gray-600 hover:text-red-600 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-red-50" data-translate="catalog">Catalog</a>
                        <a href="#about" class="text-gray-600 hover:text-red-600 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-red-50" data-translate="about">About</a>
                        <a href="#contact" class="text-gray-600 hover:text-red-600 font-medium transition-colors px-3 py-2 rounded-lg hover:bg-red-50" data-translate="contact">Contact</a>
                    </div>

                    <!-- Tablet Navigation -->
                    <div class="hidden md:flex lg:hidden items-center space-x-4">
                        <a href="catalog.html" class="text-gray-600 hover:text-red-600 font-medium transition-colors" data-translate="catalog">Catalog</a>
                        <div class="relative group">
                            <button class="flex items-center space-x-1 text-gray-600 hover:text-red-600 py-2 font-medium transition-colors">
                                <i class="fas fa-th-large"></i>
                                <i class="fas fa-chevron-down text-sm"></i>
                            </button>
                            <div class="absolute top-full right-0 bg-white shadow-lg border rounded-lg hidden group-hover:block z-50 w-48">
                                <div class="p-3">
                                    <a href="catalog.html?category=brake-system" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md">Brake System</a>
                                    <a href="catalog.html?category=electrical" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md">Electrical</a>
                                    <a href="catalog.html?category=engine" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md">Engine</a>
                                    <a href="catalog.html" class="block px-3 py-2 text-sm text-red-600 font-medium border-t mt-2 pt-2">View All ‚Üí</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right: User Actions -->
                <div class="flex items-center">
                    <!-- Right Side Navigation -->
                <div class="flex items-center space-x-2 lg:space-x-4">
                    <!-- Mobile menu button -->
                    <button id="mobile-menu-button" class="lg:hidden flex items-center px-3 py-2 rounded-lg text-gray-600 hover:text-red-600 hover:bg-red-50 transition-all duration-200">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    
                    <!-- Language Switcher -->
                    <div class="relative group hidden sm:block">
                        <button class="flex items-center space-x-1 text-gray-700 hover:text-red-600 py-2 px-2 lg:px-3 rounded-md transition-colors">
                            <span id="current-lang" class="text-sm font-medium">EN</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div class="absolute top-full right-0 bg-white shadow-lg border rounded-lg hidden group-hover:block z-50 min-w-max">
                            <button onclick="setLanguage('en')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 w-full text-left">üá¨üáß English</button>
                            <button onclick="setLanguage('ro')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 w-full text-left">üá∑üá¥ Rom√¢nƒÉ</button>
                            <button onclick="setLanguage('ru')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 w-full text-left">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
                        </div>
                    </div>
                    
                    <!-- Cart Icon -->
                    <div class="relative">
                        <a href="cart.html" class="flex items-center text-gray-600 hover:text-red-600 transition-colors p-2 rounded-lg hover:bg-red-50">
                            <i class="fas fa-shopping-cart text-lg"></i>
                            <span id="cart-counter" class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium">0</span>
                        </a>
                    </div>
                    
                    <!-- Auth Links -->
                    <div id="auth-links" class="hidden md:flex items-center space-x-3">
                        <a href="login.html" class="text-gray-600 hover:text-red-600 font-medium transition-colors" data-translate="login">Login</a>
                        <a href="register.html" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-all duration-200 font-medium shadow-sm hover:shadow-md" data-translate="register">Register</a>
                    </div>
                </div>
                </div>
            </nav>
            
            <!-- Mobile menu -->
            <div id="mobile-menu" class="lg:hidden hidden bg-white border-t shadow-lg">
                <div class="px-4 py-4 space-y-2">
                    <!-- Mobile Categories -->
                    <div class="mb-4">
                        <h3 class="text-sm font-semibold text-gray-900 mb-3 px-2">Categories</h3>
                        <div class="space-y-1">
                            <a href="catalog.html?category=brake-system" class="flex items-center px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                <i class="fas fa-stop-circle mr-3 w-4"></i>Brake System
                            </a>
                            <a href="catalog.html?category=electrical" class="flex items-center px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                <i class="fas fa-bolt mr-3 w-4"></i>Electrical
                            </a>
                            <a href="catalog.html?category=engine" class="flex items-center px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                <i class="fas fa-cog mr-3 w-4"></i>Engine
                            </a>
                        </div>
                    </div>
                    
                    <div class="border-t pt-3 space-y-1">
                        <a href="catalog.html" class="block px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium" data-translate="catalog">
                            <i class="fas fa-th-grid mr-2"></i>Catalog
                        </a>
                        <a href="cart.html" class="flex items-center justify-between px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                            <span class="flex items-center">
                                <i class="fas fa-shopping-cart mr-2"></i>Shopping Cart
                            </span>
                            <span id="mobile-cart-counter" class="hidden bg-red-500 text-white text-xs rounded-full px-2 py-1 font-medium">0</span>
                        </a>
                        <a href="#about" class="block px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors" data-translate="about">
                            <i class="fas fa-info-circle mr-2"></i>About
                        </a>
                        <a href="#contact" class="block px-3 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors" data-translate="contact">
                            <i class="fas fa-envelope mr-2"></i>Contact
                        </a>
                    </div>
                    
                    
                    <!-- Mobile Language -->
                    <div class="border-t pt-3">
                        <div class="flex justify-center space-x-4">
                            <button onclick="setLanguage('en')" class="px-3 py-1 text-sm text-gray-600 hover:text-red-600 transition-colors">üá¨üáß EN</button>
                            <button onclick="setLanguage('ro')" class="px-3 py-1 text-sm text-gray-600 hover:text-red-600 transition-colors">üá∑üá¥ RO</button>
                            <button onclick="setLanguage('ru')" class="px-3 py-1 text-sm text-gray-600 hover:text-red-600 transition-colors">üá∑üá∫ RU</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gray-900 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-vhp-gradient opacity-20"></div>
        <div class="container mx-auto px-4 py-16 lg:py-24 relative z-10">
            <div class="max-w-4xl mx-auto text-center">
                <h1 class="text-4xl lg:text-6xl font-bold mb-6 text-white" data-translate="hero_title">
                    Rare Van Hool Bus Parts
                </h1>
                <p class="text-xl lg:text-2xl mb-8 text-gray-200" data-translate="hero_subtitle">
                    Specialized supplier of authentic Van Hool parts. Hard-to-find components for all Van Hool bus models with worldwide shipping.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                    <a href="catalog.html" class="btn-vhp-primary px-8 py-3 rounded-md font-semibold" data-translate="view_catalog">
                        View Catalog
                    </a>
                    <a href="#contact" class="btn-vhp-outline px-8 py-3 rounded-md font-semibold" data-translate="contact_us">
                        Contact Us
                    </a>
                </div>
                
                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div>
                        <div class="text-3xl font-bold text-yellow-300" id="parts-count">2000+</div>
                        <div class="text-gray-300" data-translate="parts_available">Parts Available</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-yellow-300">50+</div>
                        <div class="text-gray-300" data-translate="countries_served">Countries Served</div>
                    </div>
                    <div>
                        <div class="text-3xl font-bold text-yellow-300">25+</div>
                        <div class="text-gray-300" data-translate="years_experience">Years Experience</div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Featured Products Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4" data-translate="featured_parts">
                    Featured Parts
                </h2>
                <p class="text-gray-600 max-w-2xl mx-auto" data-translate="featured_parts_desc">
                    Discover our most popular Van Hool parts. All parts come with detailed specifications and authentic part numbers.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="featured-products">
                <!-- Featured products will be loaded here -->
                <div class="text-center py-8 col-span-full">
                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"></div>
                    <p class="mt-2 text-gray-500">Loading products...</p>
                </div>
            </div>
            
            <div class="text-center mt-12">
                <a href="catalog.html" class="bg-red-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-red-700 transition-colors" data-translate="see_all_parts">
                    See All Parts
                </a>
            </div>
        </div>
    </section>

    <!-- Universal App System -->
    <script src="js/app-universal.js"></script>
    <script src="js/categories-dropdown.js"></script>
    
    <script>
        console.log('üî• Index page loaded with universal system');
        
        // Dropdown functions
        function showDropdown() {
            console.log('üîº Showing dropdown...');
            const dropdown = document.getElementById('categories-dropdown-menu');
            if (dropdown) {
                dropdown.style.display = 'block';
                console.log('‚úÖ Dropdown shown');
            } else {
                console.log('‚ùå Dropdown menu element not found');
            }
        }
        
        function hideDropdown() {
            console.log('üîΩ Hiding dropdown...');
            const dropdown = document.getElementById('categories-dropdown-menu');
            if (dropdown) {
                dropdown.style.display = 'none';
                console.log('‚úÖ Dropdown hidden');
            } else {
                console.log('‚ùå Dropdown menu element not found');
            }
        }
        
        // Load categories for dropdown - DO NOTHING, use static HTML
        async function loadCategoriesDropdown() {
            // Disabled - using static HTML content
        }
        
        // Create static categories dropdown as fallback
        function getStaticCategoriesDropdown() {
            console.log('üìã Generating static categories dropdown');
            return `
                <div class="py-4">
                    <h4 class="font-semibold mb-4 text-center">Van Hool Parts Categories</h4>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4">
                        
                        <!-- Brake System -->
                        <div class="relative group/category">
                            <a href="catalog.html?category=brake-system" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-stop-circle text-red-600"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">Brake System</div>
                                    <div class="text-sm text-gray-500">Pads, Discs, Fluid</div>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                            </a>
                            <!-- Subcategories -->
                            <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                <div class="p-3">
                                    <div class="text-sm font-medium text-gray-900 mb-2">Brake Components</div>
                                    <a href="catalog.html?category=brake-pads" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Pads</a>
                                    <a href="catalog.html?category=brake-discs" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Discs</a>
                                    <a href="catalog.html?category=brake-fluid" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Fluid</a>
                                    <a href="catalog.html?category=brake-calipers" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Brake Calipers</a>
                                </div>
                            </div>
                        </div>

                        <!-- Air Pressure System -->
                        <div class="relative group/category">
                            <a href="catalog.html?category=air-pressure" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-wind text-red-600"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">Air Pressure</div>
                                    <div class="text-sm text-gray-500">Compressors, Valves</div>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                            </a>
                            <!-- Subcategories -->
                            <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                <div class="p-3">
                                    <div class="text-sm font-medium text-gray-900 mb-2">Air System Parts</div>
                                    <a href="catalog.html?category=air-compressors" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Compressors</a>
                                    <a href="catalog.html?category=air-valves" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Valves</a>
                                    <a href="catalog.html?category=air-tanks" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Tanks</a>
                                    <a href="catalog.html?category=air-filters" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Air Filters</a>
                                </div>
                            </div>
                        </div>

                        <!-- Electrical System -->
                        <div class="relative group/category">
                            <a href="catalog.html?category=electrical" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-bolt text-red-600"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">Electrical</div>
                                    <div class="text-sm text-gray-500">Lighting, Wiring</div>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                            </a>
                            <!-- Subcategories -->
                            <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                <div class="p-3">
                                    <div class="text-sm font-medium text-gray-900 mb-2">Electrical Parts</div>
                                    <a href="catalog.html?category=headlights" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Headlights</a>
                                    <a href="catalog.html?category=tail-lights" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Tail Lights</a>
                                    <a href="catalog.html?category=wiring-harness" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Wiring Harness</a>
                                    <a href="catalog.html?category=switches" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Switches</a>
                                </div>
                            </div>
                        </div>

                        <!-- Chassis & Suspension -->
                        <div class="relative group/category">
                            <a href="catalog.html?category=chassis-suspension" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                    <i class="fas fa-car-side text-red-600"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">Chassis & Suspension</div>
                                    <div class="text-sm text-gray-500">Suspension, Frames</div>
                                </div>
                                <i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>
                            </a>
                            <!-- Subcategories -->
                            <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                <div class="p-3">
                                    <div class="text-sm font-medium text-gray-900 mb-2">Chassis Parts</div>
                                    <a href="catalog.html?category=suspension-parts" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Suspension Parts</a>
                                    <a href="catalog.html?category=chassis-parts" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Chassis Parts</a>
                                    <a href="catalog.html?category=shock-absorbers" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Shock Absorbers</a>
                                    <a href="catalog.html?category=springs" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">Springs</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            `;
        }
        
        // Create dynamic categories dropdown
        function createDynamicCategoriesDropdown(categories, subcategories) {
            const categoryIcons = {
                'brake-system': 'fas fa-stop-circle',
                'air-pressure': 'fas fa-wind', 
                'electrical': 'fas fa-bolt',
                'chassis-suspension': 'fas fa-car-side',
                'engine-transmission': 'fas fa-cog',
                'body-interior': 'fas fa-door-open',
                'hvac': 'fas fa-snowflake',
                'fuel-system': 'fas fa-gas-pump',
                'lighting': 'fas fa-lightbulb',
                'safety': 'fas fa-shield-alt'
            };
            
            return `
                <div class="py-4">
                    <h4 class="font-semibold mb-4 text-center">Van Hool Parts Categories</h4>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4">
                        ${categories.map(category => {
                            const categorySubcats = subcategories.filter(sub => sub.parent_id === category.id);
                            const icon = categoryIcons[category.slug] || 'fas fa-cog';
                            
                            return `
                                <div class="relative group/category">
                                    <a href="catalog.html?category=${category.slug}" class="flex items-center p-3 rounded-lg hover:bg-red-50 border transition-colors">
                                        <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center mr-3">
                                            <i class="${icon} text-red-600"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="font-medium">${category.name_en || category.name || 'Unknown Category'}</div>
                                            <div class="text-sm text-gray-500">${category.description || ''}</div>
                                        </div>
                                        ${categorySubcats.length > 0 ? '<i class="fas fa-chevron-right text-gray-400 group-hover/category:text-red-600"></i>' : ''}
                                    </a>
                                    ${categorySubcats.length > 0 ? `
                                        <div class="absolute left-full top-0 ml-2 w-64 bg-white border rounded-lg shadow-lg opacity-0 invisible group-hover/category:opacity-100 group-hover/category:visible transition-all duration-200 z-60">
                                            <div class="p-3">
                                                <div class="text-sm font-medium text-gray-900 mb-2">${category.name} Parts</div>
                                                ${categorySubcats.map(subcat => `
                                                    <a href="catalog.html?category=${subcat.slug}" class="block px-3 py-2 text-sm text-gray-600 hover:bg-red-50 hover:text-red-600 rounded-md transition-colors">
                                                        ${subcat.name}
                                                    </a>
                                                `).join('')}
                                            </div>
                                        </div>
                                    ` : ''}
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }
        
        
        // Create enhanced categories dropdown with subcategories
        function createCoolCategoriesDropdown(categories, subcategories) {
            const currentLang = (window.VanHoolApp && window.VanHoolApp.currentLanguage) ? window.VanHoolApp.currentLanguage : 'en';
            
            // Create category icons mapping
            const categoryIcons = {
                'brake-system': 'fas fa-stop-circle',
                'air-pressure': 'fas fa-wind',
                'chassis-suspension': 'fas fa-car-side',
                'electrical': 'fas fa-bolt',
                'engine-parts': 'fas fa-cogs',
                'transmission': 'fas fa-gear',
                'cooling-system': 'fas fa-snowflake',
                'fuel-system': 'fas fa-gas-pump',
                'exhaust-system': 'fas fa-smog',
                'steering': 'fas fa-steering-wheel',
                'lights': 'fas fa-lightbulb',
                'body-parts': 'fas fa-truck'
            };
            
            // Group subcategories by parent
            const subcategoriesMap = {};
            subcategories.forEach(sub => {
                if (!subcategoriesMap[sub.parent_id]) {
                    subcategoriesMap[sub.parent_id] = [];
                }
                subcategoriesMap[sub.parent_id].push(sub);
            });
            
            return `
                <div class="grid grid-cols-2 gap-6">
                    ${categories.map(category => {
                        const categoryName = category[`name_${currentLang}`] || category.name_en;
                        const categoryIcon = categoryIcons[category.slug] || 'fas fa-cogs';
                        const categorySubs = subcategoriesMap[category.id] || [];
                        
                        return `
                            <div class="category-group">
                                <!-- Main Category -->
                                <a href="catalog.html?category=${category.slug}" 
                                   class="main-category-link flex items-center space-x-3 p-3 rounded-lg hover:bg-red-50 group transition-all duration-200 mb-2 border-2 border-transparent hover:border-blue-200">
                                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200 shadow-md">
                                        <i class="${categoryIcon} text-white text-lg"></i>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-semibold text-gray-900 group-hover:text-red-600 transition-colors">
                                            ${categoryName}
                                        </h4>
                                        <p class="text-xs text-gray-500 mt-1">
                                            ${categorySubs.length} ${categorySubs.length === 1 ? 'subcategory' : 'subcategories'}
                                        </p>
                                    </div>
                                    <i class="fas fa-arrow-right text-gray-400 group-hover:text-red-600 group-hover:translate-x-1 transition-all duration-200"></i>
                                </a>
                                
                                <!-- Subcategories -->
                                ${categorySubs.length > 0 ? `
                                    <div class="subcategories ml-4 space-y-1">
                                        ${categorySubs.slice(0, 4).map(sub => `
                                            <a href="catalog.html?category=${sub.slug}" 
                                               class="subcategory-link flex items-center space-x-2 py-2 px-3 rounded-md hover:bg-gray-50 group text-sm transition-colors duration-150">
                                                <div class="w-2 h-2 bg-blue-400 rounded-full group-hover:bg-red-600 transition-colors"></div>
                                                <span class="text-gray-600 group-hover:text-gray-900 transition-colors">
                                                    ${sub[`name_${currentLang}`] || sub.name_en}
                                                </span>
                                                <i class="fas fa-external-link-alt text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity ml-auto"></i>
                                            </a>
                                        `).join('')}
                                        ${categorySubs.length > 4 ? `
                                            <a href="catalog.html?category=${category.slug}" 
                                               class="inline-flex items-center text-xs text-red-600 hover:text-red-700 ml-4 mt-1">
                                                +${categorySubs.length - 4} more
                                                <i class="fas fa-chevron-right ml-1 text-xs"></i>
                                            </a>
                                        ` : ''}
                                    </div>
                                ` : `
                                    <div class="ml-4 text-xs text-gray-400 italic">No subcategories</div>
                                `}
                            </div>
                        `;
                    }).join('')}
                </div>
                
                <!-- Quick Actions -->
                <div class="mt-6 pt-4 border-t border-gray-200">
                    <div class="grid grid-cols-3 gap-3">
                        <a href="catalog.html?featured=true" class="flex flex-col items-center p-3 rounded-lg hover:bg-yellow-50 group transition-colors">
                            <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mb-2 group-hover:bg-yellow-200 transition-colors">
                                <i class="fas fa-star text-yellow-600 text-sm"></i>
                            </div>
                            <span class="text-xs text-center text-gray-600 group-hover:text-yellow-700">Featured Parts</span>
                        </a>
                        <a href="catalog.html?in_stock=true" class="flex flex-col items-center p-3 rounded-lg hover:bg-green-50 group transition-colors">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mb-2 group-hover:bg-green-200 transition-colors">
                                <i class="fas fa-check-circle text-green-600 text-sm"></i>
                            </div>
                            <span class="text-xs text-center text-gray-600 group-hover:text-green-700">In Stock</span>
                        </a>
                        <a href="catalog.html?sort=price_asc" class="flex flex-col items-center p-3 rounded-lg hover:bg-purple-50 group transition-colors">
                            <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mb-2 group-hover:bg-purple-200 transition-colors">
                                <i class="fas fa-tag text-purple-600 text-sm"></i>
                            </div>
                            <span class="text-xs text-center text-gray-600 group-hover:text-purple-700">Best Price</span>
                        </a>
                    </div>
                </div>
            `;
        }
        
        
        
        // Load featured products with fallback logic
        async function loadFeaturedProducts() {
            try {
                const grid = document.getElementById('featured-products');
                
                console.log('üîç Loading featured products from Supabase...');
                
                // Wait for supabase to be available
                if (!window.supabase) {
                    console.log('Supabase not ready yet, using demo products');
                    grid.innerHTML = getDemoProducts();
                    return;
                }
                
                // Use standardized query for featured products
                const featuredQuery = window.DB_QUERIES.getProducts({
                    featured: true,
                    activeOnly: true,
                    inStockOnly: false,
                    limit: 8
                });
                
                let { data: products, error } = await featuredQuery;
                
                // If no featured products, get any active products
                if (!products || products.length === 0) {
                    console.log('No featured products found, loading any active products...');
                    const anyProductsQuery = window.DB_QUERIES.getProducts({
                        activeOnly: true,
                        inStockOnly: false,
                        limit: 8
                    });
                    ({ data: products, error } = await anyProductsQuery);
                }
                
                if (error) {
                    console.error('Supabase error:', error);
                    throw error;
                }
                
                if (products && products.length > 0) {
                    console.log(`‚úÖ Loaded ${products.length} products from database`);
                    grid.innerHTML = products.map(product => createProductCard(product)).join('');
                } else {
                    console.log('No products found in database, using demo products');
                    grid.innerHTML = getDemoProducts();
                }
                
            } catch (error) {
                console.error('Error loading products:', error);
                console.log('Using demo products as fallback');
                document.getElementById('featured-products').innerHTML = getDemoProducts();
            }
        }
        
        function createProductCard(product) {
            const currentLang = window.VanHoolApp?.currentLanguage || 'en';
            const translate = window.translate || ((key) => {
                const fallbackTranslations = {
                    'in_stock': 'In Stock',
                    'out_of_stock': 'Out of Stock',
                    'add_to_cart': 'Add to Cart'
                };
                return fallbackTranslations[key] || key;
            });
            
            return `
                <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden border">
                    <a href="product.html?id=${product.id}">
                        <div class="aspect-w-1 aspect-h-1 bg-gray-100">
                            ${product.image_url ? 
                                `<img src="${product.image_url}" alt="${product[`name_${currentLang}`] || product.name_en || product.name}" class="w-full h-48 object-cover">` :
                                `<div class="w-full h-48 bg-gray-200 flex items-center justify-center">
                                    <i class="fas fa-image text-gray-400 text-4xl"></i>
                                </div>`
                            }
                        </div>
                        <div class="p-4">
                            <div class="text-sm text-red-600 font-medium mb-1">${product.part_code || product.sku || 'N/A'}</div>
                            <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2">
                                ${product[`name_${currentLang}`] || product.name_en || product.name || 'Product'}
                            </h3>
                            <div class="flex items-center justify-between">
                                <span class="text-lg font-bold text-gray-900">‚Ç¨${product.price}</span>
                                <span class="text-sm ${product.stock_quantity > 0 ? 'text-green-600' : 'text-red-600'}">
                                    ${product.stock_quantity > 0 ? translate('in_stock') : translate('out_of_stock')}
                                </span>
                            </div>
                        </div>
                    </a>
                    <div class="px-4 pb-4">
                        <button onclick="addToCart('${product.id}')" 
                                class="w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors ${product.stock_quantity === 0 ? 'opacity-50 cursor-not-allowed' : ''}"
                                ${product.stock_quantity === 0 ? 'disabled' : ''}>
                            <i class="fas fa-cart-plus mr-2"></i>
                            ${translate('add_to_cart')}
                        </button>
                    </div>
                </div>
            `;
        }
        
        
        function getDemoProducts() {
            return `
                <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden border">
                    <a href="product.html?id=1&code=VH-BP-F-AG300-001" class="block">
                        <div class="aspect-w-1 aspect-h-1 bg-gray-100">
                            <div class="w-full h-48 bg-gray-200 flex items-center justify-center">
                                <i class="fas fa-image text-gray-400 text-4xl"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="text-sm text-red-600 font-medium mb-1">VH-BP-F-AG300-001</div>
                            <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2">Front Brake Pads Van Hool AG300</h3>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-lg font-bold text-gray-900">‚Ç¨125.99</span>
                                <span class="text-sm text-green-600">In Stock</span>
                            </div>
                        </div>
                    </a>
                    <div class="px-4 pb-4">
                        <button onclick="addToCart('1')" class="w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                            <i class="fas fa-cart-plus mr-2"></i>Add to Cart
                        </button>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden border">
                    <a href="product.html?id=2&code=VH-AS-R-A330-002" class="block">
                        <div class="aspect-w-1 aspect-h-1 bg-gray-100">
                            <div class="w-full h-48 bg-gray-200 flex items-center justify-center">
                                <i class="fas fa-image text-gray-400 text-4xl"></i>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="text-sm text-red-600 font-medium mb-1">VH-AS-R-A330-002</div>
                            <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2">Rear Air Suspension Van Hool A330</h3>
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-lg font-bold text-gray-900">‚Ç¨890.50</span>
                                <span class="text-sm text-green-600">In Stock</span>
                            </div>
                        </div>
                    </a>
                    <div class="px-4 pb-4">
                        <button onclick="addToCart('2')" class="w-full bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                            <i class="fas fa-cart-plus mr-2"></i>Add to Cart
                        </button>
                    </div>
                </div>
            `;
        }
        
        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
        
        // Cart functionality
        window.addToCart = async function(productId, quantity = 1) {
            try {
                // Wait for cart manager to be available
                if (!window.cartManager) {
                    console.warn('Cart manager not available yet, waiting...');
                    await new Promise(resolve => {
                        const checkCartManager = () => {
                            if (window.cartManager) {
                                resolve();
                            } else {
                                setTimeout(checkCartManager, 100);
                            }
                        };
                        checkCartManager();
                    });
                }
                
                // Try to get product data from database first
                let productData = null;
                
                try {
                    if (window.DB_QUERIES) {
                        console.log('üîç Fetching product from database with ID:', productId);
                        const { data: product, error } = await window.DB_QUERIES.getProduct(productId);
                            
                        if (error) {
                            console.warn('‚ö†Ô∏è Database query error:', error);
                            if (error.code !== 'PGRST116') { // Not found is OK, other errors log
                                console.error('Database error:', error);
                            }
                        }
                            
                        if (!error && product) {
                            console.log('‚úÖ Product found in database:', product);
                            productData = product;
                        } else {
                            console.log('‚ùå Product not found in database, will try demo products');
                        }
                    } else {
                        console.warn('‚ö†Ô∏è DB_QUERIES not available, using demo products only');
                    }
                } catch (error) {
                    console.error('‚ùå Error fetching product from database:', error);
                }
                
                // Fallback to demo products if not found in database
                if (!productData) {
                    if (productId === '1') {
                        productData = {
                            id: productId,
                            name_en: 'Front Brake Pads Van Hool AG300',
                            name: 'Front Brake Pads Van Hool AG300',
                            part_code: 'VH-BP-F-AG300-001',
                            sku: 'VH-BP-F-AG300-001',
                            price: 125.99,
                            sale_price: null,
                            stock_quantity: 10,
                            is_active: true,
                            image_url: '/images/placeholder.jpg',
                            images: ['/images/placeholder.jpg'],
                            categories: { name: 'Brake System' },
                            brands: { name: 'Van Hool' }
                        };
                    } else if (productId === '2') {
                        productData = {
                            id: productId,
                            name_en: 'Rear Air Suspension Van Hool A330',
                            name: 'Rear Air Suspension Van Hool A330',
                            part_code: 'VH-AS-R-A330-002',
                            sku: 'VH-AS-R-A330-002',
                            price: 890.50,
                            sale_price: null,
                            stock_quantity: 5,
                            is_active: true,
                            image_url: '/images/placeholder.jpg',
                            images: ['/images/placeholder.jpg'],
                            categories: { name: 'Air Pressure System' },
                            brands: { name: 'Van Hool' }
                        };
                    }
                }
                
                if (!productData) {
                    console.error('‚ùå No product data available for ID:', productId);
                    showNotification('Produsul nu a fost gƒÉsit', 'error');
                    return;
                }
                
                console.log('üõí Adding product to cart:', {
                    id: productData.id,
                    name: productData.name_en || productData.name,
                    price: productData.price,
                    quantity: quantity
                });
                
                // Add to cart using the same approach as product.html
                const result = await window.cartManager.addItem(productData.id, quantity, {
                    productDetails: {
                        ...productData,
                        is_active: productData.is_active !== undefined ? productData.is_active : true,
                        stock_quantity: productData.stock_quantity || 10
                    },
                    name: productData.name_en || productData.name || productData.name_ro || 'Product',
                    sku: productData.part_code || productData.sku || 'N/A',
                    price: productData.sale_price || productData.price,
                    originalPrice: productData.price,
                    image: productData.image_url || (productData.images && productData.images[0]) || '/images/placeholder.jpg',
                    category: productData.categories?.name || productData.category || '',
                    brand: productData.brands?.name || productData.brand || ''
                });
                
                console.log('üìä Cart addition result:', result);
                
                if (result.success) {
                    console.log('‚úÖ Product successfully added to cart');
                    showNotification(result.message || 'Produs adƒÉugat √Æn co»ô cu succes!', 'success');
                    updateCartCounter();
                } else {
                    console.error('‚ùå Failed to add product to cart:', result.error);
                    showNotification(result.error || 'Eroare la adƒÉugarea √Æn co»ô', 'error');
                }
                
            } catch (error) {
                console.error('üí• Error adding to cart:', error);
                showNotification('Eroare la adƒÉugarea √Æn co»ô', 'error');
            }
        };
        
        // Update cart counter in navigation
        function updateCartCounter() {
            if (window.cartManager) {
                const itemCount = window.cartManager.getItemCount();
                const counter = document.getElementById('cart-counter');
                const mobileCounter = document.getElementById('mobile-cart-counter');
                
                if (itemCount > 0) {
                    if (counter) {
                        counter.textContent = itemCount;
                        counter.classList.remove('hidden');
                    }
                    if (mobileCounter) {
                        mobileCounter.textContent = itemCount;
                        mobileCounter.classList.remove('hidden');
                    }
                } else {
                    if (counter) counter.classList.add('hidden');
                    if (mobileCounter) mobileCounter.classList.add('hidden');
                }
            }
        }
        
        // Show notification
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            const existing = document.querySelectorAll('.cart-notification');
            existing.forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `cart-notification fixed top-4 right-4 p-4 rounded-md shadow-lg z-50 max-w-sm ${
                type === 'error' ? 'bg-red-100 border border-red-400 text-red-700' :
                type === 'success' ? 'bg-green-100 border border-green-400 text-green-700' :
                'bg-red-100 border border-blue-400 text-red-700'
            }`;
            
            notification.innerHTML = `
                <div class="flex items-start">
                    <i class="fas ${
                        type === 'error' ? 'fa-exclamation-circle' :
                        type === 'success' ? 'fa-check-circle' :
                        'fa-info-circle'
                    } mt-0.5 mr-2 flex-shrink-0"></i>
                    <div class="flex-1">${message}</div>
                    <button type="button" class="ml-3 flex-shrink-0 hover:opacity-75" onclick="this.parentElement.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 4 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 4000);
        }
        
        // Listen for cart changes to update counter
        document.addEventListener('DOMContentLoaded', function() {
            // Initial counter update
            setTimeout(updateCartCounter, 1000);
            
            // Listen for cart events if cart manager becomes available
            const checkForCartManager = () => {
                if (window.cartManager) {
                    window.cartManager.addListener((event) => {
                        if (['item_added', 'item_removed', 'item_updated', 'cart_cleared', 'cart_synced'].includes(event)) {
                            updateCartCounter();
                        }
                    });
                } else {
                    setTimeout(checkForCartManager, 500);
                }
            };
            checkForCartManager();
        });
        
        // Initialize page after universal system loads
        window.addEventListener('load', function() {
            console.log('üöÄ Page fully loaded, initializing...');
            // Remove categories loading since we're not displaying categories on homepage
            loadCategoriesDropdown();
            loadFeaturedProducts();
            updateCartCounter(); // Update cart counter on page load
            console.log('‚úÖ Page initialization complete');
        });
        
        // Also try to load products when DOM is ready as backup
        document.addEventListener('DOMContentLoaded', function() {
            // Add a delay to ensure universal app is loaded
            setTimeout(() => {
                loadFeaturedProducts();
            }, 1000);
        });
    </script>
</body>
</html>